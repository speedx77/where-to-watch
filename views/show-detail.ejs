<%- include("partials/header.ejs") %>
<div id="detailPageContainer" class="d-flex flex-column">
    <div id="heroContainer">
        <div id="hero" class="d-flex justify-content-center align-items-center gap-2" style="background-image: linear-gradient(-180deg, rgba(255,255,255, 0.3) 0%, rgba(255,255,255, 0.3) 100%), url('<%= detailPage.backdrop%>');">

            <div id="heroPoster" style="background-image: url('<%= detailPage.poster%>');"></div>
            <div id="heroInfo"  class="d-flex flex-column justify-content-center">
                <h1 id="heroTitle"><%= detailPage.title%> - <small><%= detailPage.premiere_date.split("-")[0]%></small></h1>
                <div class="d-flex gap-2">
                    <% detailPage.genres.forEach((element) => { %> 
                        <small class="heroGenre"><%= element.name %></small>
                    <% }) %>
                </div>
                <h3 id="heroTagline"><%= detailPage.tagline %></h3>
                <p id="heroDescription"> <%= detailPage.description%></p>
            </div>
        </div>
    </div>
    
    
    <div id="providerArea">
    
        <h1>Where to Watch <span><%= detailPage.title%></span></h1>
       
        <% if (detailPage.providers.flatrate) { %>
            <h2>Subscription</h2>
            <% detailPage.providers.flatrate.forEach((element) => { %>
                <img src="https://image.tmdb.org/t/p/w92<%= element.logo_path %>"/>
                <div><%= element.provider_name %></div>
           <% })%>
        <% } %>

        <% if (detailPage.providers.ads) { %>
            <h2>Free With Ads</h2>
            <% detailPage.providers.ads.forEach((element) => { %>
                <img src="https://image.tmdb.org/t/p/w92<%= element.logo_path %>"/>
                <div><%= element.provider_name %></div>
           <% })%>
        <% } %>

        <% if (detailPage.providers.buy) { %>
            <h2>Purchase to Own</h2>
            <% detailPage.providers.buy.forEach((element) => { %>
                <img src="https://image.tmdb.org/t/p/w92<%= element.logo_path %>"/>
                <div><%= element.provider_name %></div>
           <% })%>
        <% } %>
    </div>
</div>


