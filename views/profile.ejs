<%- include("partials/header.ejs") %>
<div class="pageContainer d-flex justify-content-center">
    <div id="userContainer" style="margin-top: 100px;" class="d-flex flex-column">
        <div class="d-flex flex-column align-items-center">
            <div class="d-flex align-items-end">
                <div class="pfp" style="background-image: url('<%= locals.pfp%>')" id="userPfp"></div>
                <form action="/changepfp" method="post" enctype="multipart/form-data" class="d-flex flex-column gap-1">
                    <input type="file" id="imageUpload" name="newPfp" accept="image/*">
                    <input type="submit" value="Upload Image" id="pfpChange">
                </form>
            </div>
            <div id="displayName" class="mt-3"><strong><%= locals.name%></strong></div>
            <div id="userEmail" class="mt-3"><strong style="white-space: pre;">Email: </strong><%= locals.email%></div>
        </div>
        <div id="watchlistArea"class="d-flex flex-column align-items-start justify-content-start">
            <h1 style="color: rgb(131, 9, 231)">Watchlist</h1>
            <% if(locals.watchlist) {%>
                <div id="watchlistCarousel" class="d-flex gap-2 align-items-center">
                    <% locals.watchlist.forEach((element) => {%>
                        <a href="/<%= element.type.toLowerCase()%>/<%= element.contentid%>"><img class="watchlistPoster ms-1 me-1" src="<%= element.poster%>"></a>
                    <% }) %>
                </div>
                <% } else {%>
            <h4 class="justify-content-end align-items-end">Not planning on watching anything... <span style="color: rgb(131, 9, 231)">Lame</span></h4>
                <% } %>
        </div>
        <hr>
        <div class="d-flex flex-column align-items-start justify-content-start">
            <div class="d-flex align-items-center gap-1">
                <h1 style="color: rgb(131, 9, 231)">Likes</h1>
                <div style="height: 25px; width: 25px;" id="like"></div>
            </div>
            <h4 class="justify-content-end align-items-end">Clearly you haven't watched <span style="color: rgb(131, 9, 231)" id="headerTitle">The Walking Dead</span></h4>
        </div>
        <hr>
        <div class="d-flex flex-column align-items-start justify-content-start">
            <div class="d-flex align-items-center gap-1">
                <h1 style="color: rgb(131, 9, 231)">Dislikes</h1>
                <div style="height: 25px; width: 25px;" id="dislike"></div>
            </div>
            <h4 class="justify-content-end align-items-end">I know you hate that one show, <span style="color: rgb(131, 9, 231)">it's okay bro</span></h4>
        </div>

    </div>
</div>





<script src="/scripts/titleScrollProfile.js"></script>
<script src="/scripts/profile.js"></script>

